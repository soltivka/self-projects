(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/question.4a58233b.png"},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),o=(a(30),a(31),a(15)),i=a(12),u=a(22),l=a.n(u);a(32);var h,m=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"}),r.a.createElement(o.b,{to:"/game"},"Start")))},p=a(6),f=a(7),d=a(9),g=a(8),v=a(10),y=a(1),b=a.n(y),w=a(3),E=(a(39),a(40),a(41),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={className:null},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({vision:this.props.vision});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:this.state.vision?"button_"+this.props.color:"button",onClick:function(){e.setState({vision:!0}),e.props.click(e.props.id,e.props.name,e.props.color),console.log("click")}},this.props.name))}}]),t}(r.a.Component)),k=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"card-image",src:this.props.img_URL})),r.a.createElement(E,{className:"card-button",name:this.props.text,color:"dark",vision:!0,click:function(){e.props.click(e.props.id,e.props.text,e.props.color)}}))}}]),t}(r.a.Component),x=(a(42),0),C=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={difficultyChoosen:!1,difficultyID:null,question:null,correctAnswer:null,answer:null,buttons:[],currentQuestion:0,gameOver:!1,questions:[],correctAnswersCount:0,incorrectAnswersCount:0},a.chooseDifficulty=function(){var e=Object(w.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({difficultyChoosen:!0});case 2:return e.next=4,a.setState({difficultyID:t});case 4:return e.next=6,a.setState({difficultyColor:r});case 6:return console.log(a.state.difficultyColor),e.next=9,a.setState({difficultyText:n});case 9:console.log("Choosen difficulty:"+a.state.difficultyID),a.getQuestions(a.props.choosenCategoryID,a.state.difficultyText);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.getQuestions=function(){var e=Object(w.a)(b.a.mark((function e(t,a){var n,r,s,c,o,i,u,l,m;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,r=a.toLowerCase(),s="https://opentdb.com/api_count.php?category=".concat(t),e.next=5,fetch(s);case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,i=o.category_question_count["total_"+r+"_question_count"],n=20>i?i:20,console.log("questionsAmount"+n),u="https://opentdb.com/api.php?amount=".concat(i,"&category=").concat(t,"&difficulty=").concat(r),e.next=15,fetch(u);case 15:return l=e.sent,e.next=18,l.json();case 18:m=e.sent,h=m.results,this.setState({questions:h}),this.setQuestion();case 22:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),a.setQuestion=function(){a.setState({question:a.state.questions[a.state.currentQuestion].question}),a.setState({correctAnswer:a.state.questions[a.state.currentQuestion].correct_answer}),a.setState({incorrectAnswers:a.state.questions[a.state.currentQuestion].incorrect_answers}),a.setButtons()},a.setButtons=function(){var e=[];this.setState({buttons:null});for(var t=0;t<this.state.incorrectAnswers.length;t++){var a=r.a.createElement(E,{name:this.state.incorrectAnswers[t],color:"red",key:t+1,click:this.checkAnswer,vision:!1});e.push(a)}var n=r.a.createElement(E,{name:this.state.correctAnswer,color:"green",key:0,click:this.checkAnswer,vision:!1});e.push(n),e=e.sort((function(){return Math.random()-.5})),this.setState({buttons:e}),console.log(this.state.buttons)},a.checkAnswer=function(){var e=Object(w.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x;case 2:e.t0=e.sent,x=e.t0+1,a.setState({currentQuestion:x}),a.state.currentQuestion>a.state.questions.length&&(a.setState({gameOver:!0}),console.log("gameover")),r==a.state.correctAnswer?(console.log("question "+x+" is correct"),a.setState({correctAnswersCount:a.state.correctAnswersCount+1})):(console.log("wrong"+a.state.correctAnswer+"!="+r),a.setState({incorrectAnswersCount:a.state.incorrectAnswersCount+1})),setTimeout(a.setQuestion,1e3);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return this.state.difficultyChoosen?r.a.createElement("div",{className:"gameContainer"},r.a.createElement("div",{className:"statsContainer"},r.a.createElement("b",null,"Choosen category: ",this.props.categoryName),r.a.createElement("b",null,"Choosen difficulty:",r.a.createElement("b",{className:this.state.difficultyColor}," ",this.state.difficultyText))),r.a.createElement("div",{className:"statsContainer statsContainerRight"},r.a.createElement("b",null,"Current question:",this.state.currentQuestion+1,"/",this.state.questions.length+1),r.a.createElement("b",null,"Correct/incorrect answers: ",this.state.correctAnswersCount,"/",this.state.incorrectAnswersCount," ")),r.a.createElement("div",{className:"questionContainer"},r.a.createElement("h2",{className:"question"},this.state.question," "),r.a.createElement("div",{className:"buttons_container"},this.state.buttons," "))):r.a.createElement("div",{className:"difficultyContainer"},r.a.createElement("h2",{className:"question"},"Please choose difficulty of Questions:"),r.a.createElement("div",{className:"buttons_container"},r.a.createElement(E,{vision:!0,name:"Easy",color:"green",id:"1",click:this.chooseDifficulty}),r.a.createElement(E,{vision:!0,name:"Medium",color:"orange",id:"2",click:this.chooseDifficulty}),r.a.createElement(E,{vision:!0,name:"Hard",color:"red",id:"3",click:this.chooseDifficulty})))}}]),t}(r.a.Component),j=(a(43),[]),N=!1,O=function(){var e=Object(w.a)(b.a.mark((function e(t){var a,n,r,s,c,o,i,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=(t=(t=(t=(t=t.split(" ").join("+").split(":").join("")).replace("Entertainment","")).replace("General","")).replace("&","")).replace("Science","")).replace("Manga",""),a="https://pixabay.com/api/?key=15140358-a7c7469e9f7b84415745cbb2c&q=".concat(t,"&image_type=photo"),e.next=9,fetch(a);case 9:if(!(n=e.sent).ok){e.next=16;break}return e.next=13,n.json();case 13:r=e.sent,e.next=17;break;case 16:alert("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: "+n.status);case 17:return s=r.hits,l=s.length,c=Math.floor(Math.random()*Math.floor(l)),o=s[c],i=o.webformatURL,(u=i.split("_"))[1]="180.jpg",i=u.join("_"),e.abrupt("return",i);case 25:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={data:{},error:null,categories:[],cards:[],categoryChoosen:!1,categoryName:null,choosenCategoryId:null},a.fetchData=Object(w.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentdb.com/api_category.php",e.next=3,fetch("https://opentdb.com/api_category.php");case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:n=e.sent,r=n.trivia_categories,a.setState({categories:r}),e.next=13;break;case 12:a.setState({error:"\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: "+t.status});case 13:case"end":return e.stop()}}),e)}))),a.chooseCategory=function(){var e=Object(w.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({categoryChoosen:!0});case 2:return e.next=4,a.setState({categoryName:n});case 4:return e.next=6,a.setState({choosenCategoryId:t});case 6:console.log(a.state.categoryName+"   "+a.state.choosenCategoryId+"  categoryChoosen:"+a.state.categoryChoosen);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getImages=Object(w.a)(b.a.mark((function e(){var t,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<a.state.categories.length)){e.next=10;break}return e.next=4,O(a.state.categories[t].name);case 4:n=e.sent,s=r.a.createElement(k,{name:a.state.categories[t].name,text:a.state.categories[t].name,id:a.state.categories[t].id,img_URL:n,key:a.state.categories[t].id,click:a.chooseCategory}),j.push(s);case 7:t++,e.next=1;break;case 10:a.setState({cards:j});case 11:case"end":return e.stop()}}),e)}))),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==N){e.next=10;break}return console.log(N),e.next=4,this.fetchData();case 4:return e.next=6,this.getImages();case 6:N=!0,console.log(N),e.next=11;break;case 10:this.setState({cards:j});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?r.a.createElement("div",null,r.a.createElement("p",null,"Error: ",JSON.stringify(this.state.error,null,2)),r.a.createElement(k,{text:"some another text"})):this.state.categoryChoosen?r.a.createElement("div",{className:"gameContainer"},r.a.createElement(C,{choosenCategoryID:this.state.choosenCategoryId,categoryName:this.state.categoryName})):r.a.createElement("div",{className:"gameContainer"},r.a.createElement("h1",{className:"title"},"Hello! Choose category of questions."),r.a.createElement("div",{className:"gameContainer"},r.a.createElement("div",{className:"cardsContainer"},this.state.cards)))}}]),t}(r.a.Component),A=(a(44),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={className:null},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({vision:this.props.vision});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{id:"sitename"},"Soltivka.ho.ua"),r.a.createElement("div",{className:"header-buttons"},r.a.createElement("a",{className:"header_button",href:"../../../index.html"},"Home"),r.a.createElement("a",{className:"header_button",href:"../../../index.html"},"Personal projects"),r.a.createElement("a",{className:"header_button",href:"../../../index.html"},"My works")))}}]),t}(r.a.Component));var q=function(){return r.a.createElement(o.a,{basename:"/"},r.a.createElement("div",{className:"app"},r.a.createElement(A,null,"Header"),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/game",component:S}),r.a.createElement(i.a,{path:"*",exact:!0,component:m}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.f18d75f4.chunk.js.map